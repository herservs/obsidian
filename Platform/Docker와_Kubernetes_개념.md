# [개념명] Docker와 Kubernetes 개념 정리 - 컨테이너 기반 배포 및 운영 자동화의 핵심 구조

## 1. 개요
Docker는 애플리케이션과 그 실행 환경을 하나의 컨테이너로 패키징하고 실행할 수 있도록 해주는 가상화 도구다.  
Kubernetes는 이러한 컨테이너들을 수십~수천 개 수준으로 배포, 확장, 복구, 네트워크 연결까지 **자동화**해주는 오케스트레이션 시스템이다.

---

## 2. Docker 개념 정리

### ✅ Docker란?
- 컨테이너를 **생성·실행·관리**하는 도구이자 플랫폼
- "하나의 커널을 공유하면서, 유저랜드(Userland)는 각 이미지별로 독립적으로 실행"
- 가볍고 빠른 실행 환경 제공

### ✅ 핵심 구성요소

| 구성요소 | 설명 |
|----------|------|
| **Dockerfile** | 이미지 생성을 위한 빌드 스크립트 |
| **Image** | 컨테이너 실행의 청사진, 불변 상태 |
| **Container** | 실행 중인 인스턴스, 이미지 + 유저 데이터 |
| **Docker Engine** | CLI + 데몬을 포함한 전체 실행 플랫폼 |
| **Docker Hub** | 이미지 공유를 위한 중앙 저장소 (라이브러리 개념의 Maven Central) |

### ✅ 컨테이너 구조
- **커널은 공유**, **유저랜드는 독립**
- 각 이미지마다 OS 기반 유저랜드 (Ubuntu, Alpine, CentOS 등)를 가짐

---

## 3. Kubernetes 개념 정리

### ✅ Kubernetes란?
- 다수의 컨테이너를 **자동 배포, 확장, 복구, 서비스 연결**까지 관리하는 플랫폼
- "컨테이너를 항해하는 수백 척의 배를 통제하는 항구의 관제탑"과 같은 역할
- Google이 개발, CNCF가 유지 관리

### ✅ Kubernetes의 핵심 기능

| 기능 | 설명 |
|------|------|
| **자동 배포 및 재시작** | 컨테이너 죽으면 자동 복구 |
| **스케일링** | 부하 증가 시 자동으로 Pod 수 증가 |
| **서비스 디스커버리** | 컨테이너 간 통신 자동 연결 |
| **롤링 업데이트** | 무중단 배포 가능 |
| **비밀/설정 관리** | 환경 변수 및 민감정보 분리 관리 |

### ✅ 주요 구성요소

| 구성요소 | 설명 |
|----------|------|
| **Pod** | 컨테이너 실행의 최소 단위 (1개 이상 컨테이너 포함) |
| **Deployment** | 원하는 상태(몇 개 실행할지 등) 정의 |
| **Service** | Pod에 외부에서 접근 가능한 네트워크 라우팅 설정 |
| **Node** | 실제 컨테이너가 실행되는 물리/가상 서버 |
| **Control Plane** | 전체 클러스터 상태를 관리하는 중앙 제어 시스템 |

---

## 4. Docker vs Kubernetes 비교

| 항목 | Docker | Kubernetes |
|------|--------|------------|
| 목적 | 개별 컨테이너 실행 | 대규모 컨테이너 집합 자동 관리 |
| 단위 | 컨테이너 | Pod (컨테이너 묶음) |
| 범위 | 단일 머신 중심 | 다수의 머신(클러스터) 중심 |
| 관리기능 | 수동 관리 (Docker Compose 일부 자동화) | 배포/복구/확장 완전 자동화 |
| 실행 예 | `docker run nginx` | `kubectl apply -f nginx-deployment.yaml` |

---

## 5. 관계 정리

- Docker는 **컨테이너를 실행하는 도구**
- Kubernetes는 **컨테이너들을 클러스터 수준에서 관리하는 도구**
- Kubernetes가 Docker를 내부 런타임으로 사용하기도 하지만, 현재는 **containerd, CRI-O 등으로 분리된 구조**를 사용

---

## 6. 한줄 요약

> **Docker는 컨테이너를 만들고 실행하는 툴,  
> Kubernetes는 그런 컨테이너 수백~수천 개를 자동으로 관리하는 플랫폼이다.**

---

## 7. 확장 시나리오 예시

- Jenkins CI 서버를 Docker로 올리고, Kubernetes로 스케일링 자동화
- Nexus Repository를 StatefulSet으로 구성하여 K8s에서 볼륨 유지하며 운영
- 웹 앱 + DB + Redis 등 여러 서비스 컨테이너를 하나의 K8s 클러스터에서 배포

