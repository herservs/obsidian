# [ê°œë…ëª…] Nexus Docker ê¸°ë°˜ í™˜ê²½ êµ¬ì„± - ì»¨í…Œì´ë„ˆë¡œ ì•„í‹°íŒ©íŠ¸ ì €ì¥ì†Œ ìš´ì˜í•˜ê¸°

## 1. ê°œìš”
Nexus Repository ManagerëŠ” Java ê¸°ë°˜ì˜ ì•„í‹°íŒ©íŠ¸ ì €ì¥ì†Œ ê´€ë¦¬ íˆ´ë¡œ, Maven, npm, Docker, PyPI ë“± ë‹¤ì–‘í•œ íŒ¨í‚¤ì§€ ì €ì¥ì†Œ ì—­í• ì„ ìˆ˜í–‰í•œë‹¤.  
ì¼ë°˜ì ìœ¼ë¡œ ìš´ì˜ í™˜ê²½ì—ì„œëŠ” **Docker ì»¨í…Œì´ë„ˆë¡œ Nexusë¥¼ êµ¬ì„±**í•˜ëŠ” ê²ƒì´ í‘œì¤€ì²˜ëŸ¼ ìë¦¬ì¡ê³  ìˆìœ¼ë©°, ì„¤ì¹˜ì™€ ìœ ì§€ë³´ìˆ˜ê°€ ê°„í¸í•˜ê³  ì´ì‹ì„±ì´ ë†’ë‹¤ëŠ” ì¥ì ì´ ìˆë‹¤.

---

## 2. ì™œ Dockerë¡œ Nexusë¥¼ êµ¬ì„±í• ê¹Œ?

| ì´ìœ  | ì„¤ëª… |
|------|------|
| âœ… **ì„¤ì¹˜ ê°„í¸** | `docker run` ëª…ë ¹ìœ¼ë¡œ ìˆ˜ì´ˆ ë‚´ì— ì‹¤í–‰ ê°€ëŠ¥ (ë³„ë„ JDK ì„¤ì¹˜, í¬íŠ¸ ì„¤ì • ë¶ˆí•„ìš”) |
| âœ… **í™˜ê²½ ì¼ê´€ì„±** | ìš´ì˜, í…ŒìŠ¤íŠ¸, ë¡œì»¬ í™˜ê²½ ëª¨ë‘ ë™ì¼ ì´ë¯¸ì§€ë¡œ êµ¬ì„± ê°€ëŠ¥ |
| âœ… **ì—…ë°ì´íŠ¸ ì‰¬ì›€** | ìƒˆë¡œìš´ ë²„ì „ìœ¼ë¡œ ì´ë¯¸ì§€ êµì²´ë§Œ í•˜ë©´ ì—…ê·¸ë ˆì´ë“œ ê°€ëŠ¥ |
| âœ… **ë°ì´í„° ë¶„ë¦¬** | `/nexus-data` ê²½ë¡œë§Œ ì™¸ë¶€ ë§ˆìš´íŠ¸í•˜ë©´ ì„¤ì • ë° ë°ì´í„° ìœ ì§€ ê°€ëŠ¥ |
| âœ… **ì„œë¹„ìŠ¤ ê²©ë¦¬ì„±** | ë‹¤ë¥¸ íˆ´(Jenkins, GitLab ë“±)ê³¼ ë…ë¦½ëœ í™˜ê²½ì—ì„œ ì‹¤í–‰ ê°€ëŠ¥ |
| âœ… **Kubernetes ì—°ê³„ ì‰¬ì›€** | Docker í™˜ê²½ì„ ê·¸ëŒ€ë¡œ K8së¡œ ì´ì „ ê°€ëŠ¥ (StatefulSet ë“± í™œìš©) |

---

## 3. Docker ê¸°ë°˜ Nexus í™˜ê²½ êµ¬ì„± ì ˆì°¨

### ğŸ”§ [1] ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ

```bash
docker pull sonatype/nexus3
```

- `sonatype/nexus3`: Nexus ê³µì‹ Docker ì´ë¯¸ì§€

---

### ğŸ“¦ [2] ë°ì´í„° ì €ì¥ ê²½ë¡œ ì¤€ë¹„

```bash
mkdir -p /home/nexus/nexus-data
chown -R 200 /home/nexus/nexus-data
```

- NexusëŠ” ë‚´ë¶€ì ìœ¼ë¡œ UID `200`ë²ˆì„ ì‚¬ìš©í•˜ë¯€ë¡œ ê¶Œí•œ ì„¤ì • í•„ìš”

---

### ğŸš€ [3] ì»¨í…Œì´ë„ˆ ì‹¤í–‰

```bash
docker run -d \
  --name nexus \
  -p 8081:8081 \
  -v /home/nexus/nexus-data:/nexus-data \
  sonatype/nexus3
```

| ì˜µì…˜ | ì„¤ëª… |
|------|------|
| `--name nexus` | ì»¨í…Œì´ë„ˆ ì´ë¦„ |
| `-p 8081:8081` | í˜¸ìŠ¤íŠ¸ í¬íŠ¸ â†” ì»¨í…Œì´ë„ˆ í¬íŠ¸ ë§¤í•‘ |
| `-v ...` | ë°ì´í„° ë””ë ‰í† ë¦¬ ë§ˆìš´íŠ¸ (ë³¼ë¥¨ ìœ ì§€) |

---

### ğŸ”‘ [4] ì´ˆê¸° ê´€ë¦¬ì ë¹„ë°€ë²ˆí˜¸ í™•ì¸

```bash
cat /home/nexus/nexus-data/admin.password
```

- ìµœì´ˆ ì ‘ì† ì‹œ http://localhost:8081 ë¡œ ì ‘ì†
- ìœ„ ê²½ë¡œì— ìƒì„±ë˜ëŠ” ë¹„ë°€ë²ˆí˜¸ë¡œ ë¡œê·¸ì¸

---

### âš™ï¸ [5] í•„ìˆ˜ ì´ˆê¸° ì„¤ì •

1. ê´€ë¦¬ì ë¹„ë°€ë²ˆí˜¸ ë³€ê²½
2. ê¸°ë³¸ ì €ì¥ì†Œ(Maven Central ë“±) êµ¬ì„±
3. ì‚¬ë‚´ í˜¸ìŠ¤íŒ… ì €ì¥ì†Œ ìƒì„± (Hosted Repository)
4. ì ‘ê·¼ ê¶Œí•œ/ì‚¬ìš©ì ê·¸ë£¹ ì„¤ì •

---

## 4. ì¶”ê°€ êµ¬ì„± ì˜ˆì‹œ

### âœ… í™˜ê²½ë³€ìˆ˜ ì‚¬ìš© (ì˜ˆ: Java ì˜µì…˜)

```bash
docker run -d \
  -e INSTALL4J_ADD_VM_PARAMS="-Xms2g -Xmx2g -XX:MaxDirectMemorySize=2g" \
  -v /home/nexus/nexus-data:/nexus-data \
  -p 8081:8081 \
  sonatype/nexus3
```

---

### âœ… `docker-compose` ì˜ˆì‹œ

```yaml
version: '3'
services:
  nexus:
    image: sonatype/nexus3
    container_name: nexus
    ports:
      - "8081:8081"
    volumes:
      - ./nexus-data:/nexus-data
    environment:
      - INSTALL4J_ADD_VM_PARAMS=-Xms2g -Xmx2g -XX:MaxDirectMemorySize=2g
```

---

## 5. í•œì¤„ ìš”ì•½

> NexusëŠ” Docker ê¸°ë°˜ìœ¼ë¡œ ì„¤ì¹˜í•˜ëŠ” ê²ƒì´ í˜„ëŒ€ì ì¸ í‘œì¤€ ë°©ì‹ì´ë©°, ì„¤ì¹˜ê°€ ê°„ë‹¨í•˜ê³  í™˜ê²½ ê°„ ì´ì‹ì„±ê³¼ ìœ ì§€ë³´ìˆ˜ê°€ ë›°ì–´ë‚˜ë‹¤.  
> `/nexus-data`ë§Œ ì˜ ë§ˆìš´íŠ¸í•˜ë©´ ì†ì‰¬ìš´ ë°±ì—…ê³¼ ë³µêµ¬ë„ ê°€ëŠ¥í•˜ë‹¤.

---

## 6. ì°¸ê³  ë§í¬

- [Nexus Docker ê³µì‹ ì´ë¯¸ì§€](https://hub.docker.com/r/sonatype/nexus3)
- [Nexus ì„¤ì • ê°€ì´ë“œ (ê³µì‹ë¬¸ì„œ)](https://help.sonatype.com/repomanager3)
