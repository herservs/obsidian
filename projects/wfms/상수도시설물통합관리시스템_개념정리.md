---
title: 상수도시설물통합관리시스템_개념정리
layout: default
---
# [개념명] 상수도시설물통합관리시스템 - 운영 흐름 및 권한 기반 구조 설계

## 1. 개요
상수도 관련 시설물(수용가, 밸브류, 유량계 등)을 프로젝트 단위로 등록 및 관리하고,  
현장 워커들이 모바일에서 조사/검침/공사 등 데이터를 입력, 관리자는 이를 통합 분석·출력하는 시스템

---

## 2. 사용자 권한 구조

| 연번 | ROLE(역할)         | 약어 | 국문        | 국문상세            | 사용자                          | 예상업무 |
|------|--------------------|------|-------------|----------------------|----------------------------------|-----------|
| 1    | ROLE_SUPER_ADMIN   | S    | 슈퍼어드민   | 시스템관리자         | 전사 전산실 또는 총괄 관리자     | 전체 시스템 운영 및 사용자 관리 |
| 2    | ROLE_ADMIN         | A    | 어드민       | 프로젝트관리자       | 부서 또는 프로젝트 총괄          | 시설물 관리, 보고/증빙 제출, 업체 관리 |
| 3    | ROLE_MANAGER       | M    | 매니저       | 책임자               | 업체 또는 현장 관리자             | 작업자 관리 및 시설물 정보 조회/수정 |
| 4    | ROLE_WORKER        | W    | 워커         | 작업자(담당자)        | 업체 또는 현장 작업자             | 조사, 유지보수, 검침 등 실작업 수행 |
| 5    | ROLE_ANONYMOUS     | G    | 일반사용자   | 일반 사용자           | -                                | -         |

---

## 3. 주요 사용 흐름

### (1) 솔루션 초기 설정
- 시스템관리자가 사용자 및 코드정보(블록, 시설물 타입 등) 등록
- 프로젝트 생성 및 사용자 할당
- 프로젝트별로 프로젝트관리자 지정

### (2) 프로젝트 관리 및 운영
- 프로젝트관리자 로그인 → 프로젝트 선택 → 설정
- 설정 항목: 공개여부, 기간, 발주처 정보, 금액 등
- 사용자풀에서 프로젝트 사용자 할당
- 업무별 권한 할당 (읽기/쓰기)
- 사이트 및 지역 생성:
  - 지도에서 폴리곤 영역 설정 → 지역 등록
  - 지역별 사용자 할당 → 모바일 접근 권한 분리

### (3) 업무 실행 흐름 (수용가 및 계량기 기준)
1. 프로젝트관리자가 수용가 등록 (좌표/주소 기반)
2. 수용가 ↔ 사이트 ↔ 지역 매핑
3. 워커가 모바일에서 자신이 할당된 지역 내 수용가 조회
4. 현장 방문 후 정보 입력 (가구수, 연락처, 사진 등)
5. 프로젝트관리자는 조사 현황 확인 및 수정

---

## 4. 핵심 개념 정리

### 시설물의 범주
- 수용가, 계량기, 밸브, 유량계 등 모두 "시설물"로 정의
- 시설물은 유형별(Type)로 관리 (수용가타입, 밸브타입 등)
- 필수 요소: 위치 좌표

### 관리 흐름
- 프로젝트관리자가 사전 등록 or 워커가 현장 등록
- 업무 종류: 조사 / 공사 / 교체 / 검침 등
- 웹에서 지도 기반 대시보드로 통계 및 현황 관리 가능

---

## 5. 기술 스택 요약
- 모바일: **Flutter**
- 웹: **Vue.js**
- 백엔드: **Spring Boot + JWT**
- DB: **티베로 / 오라클 기반**
- 지도 API: **vworld**

---

## 6. 활용 시나리오
- 지역별 조사 작업 구분 및 보고서 자동 출력
- 현장 사진 + 좌표 기반 정보 입력 → 데이터 자동 누적
- 웹에서 조사 현황, 누수, 수압, 민원 등 다양한 필터로 조회 가능

---

## 7. UI 구성 주요 매핑 요약 (화면설계 시안 기준)

| 영역 | 설명 |
|------|------|
| 프로젝트 기본 설정 | 노출 여부, 발주처, 기간, 금액 등 |
| 사용자 관리 | 사용자 등록/할당, 권한 지정, 일괄등록 |
| 업무 관리 | 시설물별 업무 항목 설정, 읽기/쓰기 권한 구분 |
| 사이트/지역/블록 설정 | 폴리곤 기반 공간구획 설정, 사용자별 할당 |
| 계량기 관리 | 조사 상태(미조사/조사완료/재조사) 및 계량기 정보 입력, 교체처리 |
| 리포트 관리 | Excel 양식 출력, 조사 상태별 필터 |

---

## 8. 💡 대시보드 아이디어 (설계 예정)

> 🧠 시스템 도입 효과를 직관적으로 보여주는 핵심 시각화 모듈 제안

- 전체 프로젝트 요약: 등록된 프로젝트 수 / 기간별 상태(계획/진행/완료)
- 조사 현황 통계: 계량기/수용가/밸브 등 유형별 조사율(원형그래프)
- 사용자 활동현황: 워커별 일별 조사 건수, 지연율
- 지역별 누적 현황: 블록/지역 단위 조사 완료율
- 지도 기반 히트맵: 미조사 지역/재확인 필요 지역 강조 시각화

---

## 9. 🛠 계량기 등록/교체 전략 제안

### 현황 정리
- 기존 계량기 → **교체만 워커가 처리** (위치는 동일, 정보만 갱신)
- 신규 계량기 → 관리자 또는 워커가 등록하는 방식 고민 중

### 제안 2가지
#### ✅ 방식 A: 워커가 직접 등록
- **계량기 등록 전용 업무 타입 생성** (예: "계량기 신설")
- 워커에게 해당 업무 부여 → 모바일에서 위치 선택 + 정보 입력
- 상태: "임시저장" → 관리자 승인 시 "확정"

#### ✅ 방식 B: 관리자 사전 등록 후 워커가 연결
- 워커가 **신규 위치 요청** → 관리자 등록
- 워커는 리스트에서 선택 후 계량기 정보 입력

> ✔️ 결론: **현장 실무 효율성과 데이터 정합성의 균형** 필요  
→ 방식 A + 승인 플로우 병행 추천

---

## 10. 📱 모바일 워커 기능 의견 (섹션 관련 설명 포함)

> “별도 섹션”은 워커의 모바일 전용 UI 흐름을 문서에서 따로 정리할지 여부였어.

### 내 제안은 이거야:
- 현장 워커 전용 **조사 플로우**를 문서에서 한 번에 보기 좋게 정리하는 섹션 추가

### 예시 구조:
#### [모바일 조사 플로우 (워커 전용)]
1. 로그인 후 프로젝트/사이트/지역 선택
2. 할당된 시설물 리스트 확인
3. 시설물 클릭 → 상세정보 입력
4. 사진, 위치, 특이사항 입력
5. 상태 저장: 임시저장 / 재확인 / 확정

> 👉 이 구조를 개발/기획문서에서 별도 하위 섹션으로 정리하면 개발자와 워커 이해도↑

---

## 11. 🔄 향후 연동기능 (누수탐사 AI)

- 누수탐사 (음원 기반 AI 분석)는 **시설물 관리 시스템 외 별도 구성 예정**
- 향후 통합 시에는 **API 레벨** 또는 **모듈 방식**으로 연동
- 현재는 별도 시스템으로 설계하고 있음

---

## 12. 📱 모바일 조사 플로우 (워커 전용)

### 1. 로그인 및 프로젝트 선택
- 앱 실행 후 로그인
- 참여 중인 프로젝트 목록 중 하나 선택
- 할당된 사이트 및 지역 선택

### 2. 조사 대상 목록 확인
- 선택한 지역에 속한 시설물 리스트 자동 표시
- 리스트 항목: 수용가명, 주소, 상태(미조사/조사완료 등), 지도 버튼

### 3. 현장 방문 및 위치 확인
- 리스트 또는 지도에서 해당 시설물 선택
- 위치 확인 후 현장 도착 → 조사 시작

### 4. 정보 입력
- 기본 현황: 수용가 정보, 주소, 연락처 등
- 좌표 확인 및 지도 위치 수정 가능
- **계량기 항목**:
  - 계량기 정보(구경, 형식, 설치일, 봉인여부 등)
  - 보호통 현황, 급수방식, 검침방식 등 입력
- **조사 상태** 선택:
  - 임시저장 → 미조사
  - 재확인필요 → 재조사
  - 확정 → 조사완료

### 5. 사진 업로드
- 현장에서 실시간 촬영 또는 갤러리 업로드
- 위치 사진 / 계량기 근경/원경 등 4장 이상 권장

### 6. 저장 및 동기화
- **임시 저장**: 네트워크 불안정 시 로컬 저장 가능
- **최종 저장(확정)**: 서버로 실시간 업로드 및 관리자 확인 가능

### 7. 기타 기능
- 위치 재지정 (지도 핀 조정)
- 특이사항 텍스트 입력
- 조사 건수 통계 확인 (내 작업내역)

> 🔒 워커는 본인이 할당된 지역 내 시설물만 열람 및 수정 가능
> 🛰️ 모바일 GPS 기반 자동 위치 입력 기능 포함 (선택적 위치 확인용)



### 8. 참고