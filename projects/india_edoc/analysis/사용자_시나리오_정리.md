# [개념명] 사용자 시나리오 정리 - GLOVIS E-Doc 시스템 (파일 기반 보완 최종본)

> 📄 **출처 파일**  
- `시스템 사용자 매뉴얼.pdf`  
- `e-Doc 시스템 구성도_기능리스트.pdf`  
- `글로비스 북미 전자결재 시스템 구성도 & 기능리스트.pdf`  
- `eDoc_Infra Architecture Design Diagram.pdf`

---

## 1. 일반 사용자 (End User) 시나리오

### 🎯 사용자 역할
- SAP에 전표(Parked)를 생성하고 e-Doc에서 결재 요청을 진행하는 실무 담당자

### 🧩 시나리오
1. 김대리는 출장 후 SAP에 출장비 전표(Parked)를 등록한다.  
   → (출처: `시스템 사용자 매뉴얼.pdf` SAP → e-Doc 흐름)
2. 해당 전표는 `ZUSFIV9110`에 결재 대상 유형으로 설정되어 있어, **자동 인터페이스 엔진(5분 주기)**에 의해 e-Doc으로 전송된다.  
   → (출처: `e-Doc 시스템 구성도_기능리스트.pdf`)
3. 전송된 전표는 e-Doc 내 **결재요청 대상 문서함**에 자동 등록된다.
4. 김대리는 e-Doc에 접속하여 해당 문서를 확인하고, **전자증빙(영수증, 첨부파일)**을 업로드한다.  
   → (출처: `기능리스트.pdf` - 전자증빙 문서 첨부 기능)
5. 인사 마스터를 기반으로 시스템이 자동 추천한 결재선을 확인하고, 필요시 수정한다.  
   → (출처: `기능리스트.pdf`, `인사 마스터 구성`)
6. 결재 요청을 등록하면 문서 상태가 “결재 대기”로 전환되며, **문서 이력 관리 테이블**에 저장된다.
7. 사용자는 e-Doc UI에서 문서 상태를 실시간으로 추적 가능하다.

---

## 2. 결재자 (Approver) 시나리오

### 🎯 사용자 역할
- 전표 승인 및 반려를 담당하는 관리자(팀장, 부장, 본부장 등)

### 🧩 시나리오
1. 박과장은 e-Doc 시스템 알림 또는 메일을 통해 결재 요청을 확인한다.
2. 문서함에서 해당 전표를 조회하고, **본문 내용, 첨부된 전자증빙, SAP 전표 정보**를 함께 검토한다.  
   → (출처: `시스템 사용자 매뉴얼.pdf`, `기능리스트.pdf`)
3. 이상이 없으면 “승인” 버튼을 클릭하여 다음 결재자에게 문서를 전달한다.
4. 문제가 있다면 “반려” 버튼을 클릭하여 반려 사유를 입력하고 최초 작성자에게 반환한다.
5. 최종 결재자가 승인 완료 시, **e-Doc 승인 데이터**에 결재자가 기록되며,  
   전표 유형이 Parked일 경우 SAP에 기장 요청이 자동 전송되어 전표가 Posted 상태로 전환된다.  
   → (출처: `전표생성 요청 데이터`, `시스템 구성도.pdf`)

---

## 3. 재무 관리자 (FI Admin) 시나리오

### 🎯 사용자 역할
- SAP ↔ e-Doc 간 문서 인터페이스 설정, 전표 유형 관리, 마스터 정보 관리

### 🧩 시나리오
1. 이 과장은 회계 부서 요청에 따라 특정 문서를 전자결재 대상으로 등록해야 함을 인지한다.
2. SAP 접속 후 `T-Code: ZUSFIV9110`에 진입하여 문서 유형을 인터페이스 대상으로 등록한다.  
   → (출처: `시스템 사용자 매뉴얼.pdf`)
3. 동시에 e-Doc 마스터(G/L, 고객, 구매처 정보)와 SAP 마스터의 정합성을 유지하도록 주기적 동기화를 설정한다.  
   → (출처: `글로비스 북미 전자결재 시스템 구성도 & 기능리스트.pdf`)
4. SAP 전표가 정상적으로 e-Doc에 도달했는지 **인터페이스 로그 및 승인 이력**을 통해 확인한다.
5. 전송 누락 또는 기장 실패가 발생한 경우, 시스템 운영자에게 관련 로그를 전달한다.

---

## 4. 시스템 운영자 (System Admin) 시나리오

### 🎯 사용자 역할
- e-Doc 플랫폼 인프라 구성 및 SAP 연동 유지보수, 장애 대응 담당

### 🧩 시나리오
1. 홍 개발자는 e-Doc을 RedHat + Tomcat 환경에 배포하고, MariaDB를 백엔드로 구성한다.  
   → (출처: `eDoc_Infra Architecture Design Diagram.pdf`)
2. SAP 연동을 위해 **IDoc 또는 API 인터페이스**를 설정하고, 환경을 DEV/STG/PRD로 분리 운영한다.
3. 운영 중 특정 문서가 e-Doc에 등록되지 않았다는 이슈를 수신한다.
4. SAP 전송 로그 또는 e-Doc Interface Queue 상태를 조회하여 전송 실패 사유를 파악한다.  
   → (출처: `시스템 구성도.pdf`)
5. 전송 실패가 설정 문제인 경우 FI 관리자에게 전달하고, 시스템적 오류일 경우 **Kafka 등 Queue 재처리**를 수행한다.
6. 장애 재발 방지를 위해 **인터페이스 실패 알림 시스템(Slack, 이메일 등)**을 연동한다.

---

## 5. 종합 시나리오 - 출장비 결재 흐름 (Parked 전표 기준)

```plaintext
① 김대리 (End User)
  → SAP에서 출장비 전표 생성 (Parked 상태)
  → 전표는 e-Doc으로 자동 인터페이스됨 (ZUSFIV9110 문서유형 등록 기준)

② 김대리
  → e-Doc 접속
     - 전자증빙 업로드 (`기능리스트.pdf`)
     - 결재선 설정 (인사 마스터 기반)
     - 결재 요청

③ 박과장 (결재자)
  → 문서 상세 검토 및 승인

④ 정부장 (최종 결재자)
  → 최종 승인 → 전표 SAP 기장 처리됨 (Posted 상태 전환)

⑤ 이 과장 (FI Admin)
  → 문서유형 등록, 마스터 동기화, 인터페이스 로그 확인

⑥ 홍개발자 (운영자)
  → 장애 발생 시 로그 추적 및 Queue 재처리 수행
```

---

## 6. 시나리오 활용 목적

- 실제 시스템 구성도 및 흐름에 기반한 역할별 업무 시나리오 제공
- UX 설계, 기능명세서, QA 테스트 시나리오 작성을 위한 기반 문서
- 결재 시스템 도입 시 교육자료 및 운영 가이드로 활용 가능
